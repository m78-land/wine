(window["webpackJsonp"]=window["webpackJsonp"]||[]).push([[5],{"2X0w":function(e,t,n){"use strict";n.r(t);var i,a,r=n("q1tI"),l=n.n(r),o=n("zxLD");(function(e){e["window"]="window",e["safeArea"]="safeArea",e["noLimit"]="noLimit"})(i||(i={})),function(e){e[e["L"]=0]="L",e[e["T"]=1]="T",e[e["R"]=2]="R",e[e["B"]=3]="B",e[e["LT"]=4]="LT",e[e["RT"]=5]="RT",e[e["RB"]=6]="RB",e[e["LB"]=7]="LB"}(a||(a={}));var d=n("k1fw"),c=n("tJVT"),u={left:-1/0,right:1/0,top:-1/0,bottom:1/0},f={left:0,right:0,top:0,bottom:0},s=300,m={alignment:[.5,.5],sizeRatio:.84,bound:i.safeArea,initFull:!1,zIndex:1e3},b={opacity:0},h={opacity:1},p="J__M78__TIP__NODE",v="M78__WINE";function w(e,t){var n=Object(c["a"])(t,2),i=n[0],a=n[1],r=Object(c["a"])(e,2),l=r[0],o=r[1],d=i*l,u=a*o;return[d,u]}function g(e){return{w:e[0],h:e[1]}}function O(e){return{x:e[0],y:e[1]}}function E(e){var t,n;return e.width&&(t=e.width),e.height&&(n=e.height),n||(n=e.sizeRatio*window.innerHeight),t||(t=1.3*n),[t,n]}function R(){if("undefined"!==typeof window&&"undefined"!==typeof window.document){var e=document.getElementById(p);if(e)return e;var t=document.createElement("div");return t.id=p,t.className="m78-wine_tip-node",document.body.appendChild(t),t}}function j(e,t){var n=Object(c["a"])(e,2),i=n[0],a=n[1];return i>=t.left&&i<=t.left+t.width&&a>=t.top&&a<=t.top+t.height}function z(e,t,n,i){return{top:t,left:e,width:n,height:i}}function L(e,t,n){var i=Object(c["a"])(e,2),a=i[0],r=i[1],l=Object(d["a"])(Object(d["a"])({},f),n),o=6,u=50,s=.2*a,m=.2*r,b=.6*r,h=.6*a,p=r/2,v=a/2,w=z(s+u+l.left,o+l.top,h,u);if(j(t,w))return{bound:w,size:z(l.left,l.top,a,p)};var g=z(a-u-o+l.left,m+o+l.top,u,b);if(j(t,g))return{bound:g,size:z(v+l.left,l.top,v,r)};var O=z(s+o+l.left,r-u-o+l.top,h,u);if(j(t,O))return{bound:O,size:z(l.left,p+l.top,a,p)};var E=z(o+l.left,m+o+l.top,u,b);if(j(t,E))return{bound:O,size:z(l.left,l.top,v,r)};var R=z(o+l.left,o+l.top,u,u);if(j(t,R))return{bound:R,size:z(l.left,l.top,v,p)};var L=z(o+l.left,r-o-u+l.top,u,u);if(j(t,L))return{bound:L,size:z(l.left,p+l.top,v,p)};var y=z(a-o-u+l.left,o+l.top,u,u);if(j(t,y))return{bound:y,size:z(v+l.left,l.top,v,p)};var N=z(a-o-u+l.left,r-o-u+l.top,u,u);return j(t,N)?{bound:N,size:z(v+l.left,p+l.top,v,p)}:void 0}function y(e){var t=!(arguments.length>1&&void 0!==arguments[1])||arguments[1];return{onClick:e,onKeyPress:function(n){var i=n.code;("Enter"===i||t&&"Space"===i)&&(null===e||void 0===e||e())}}}var N=n("zdPv"),S=n("lRxr"),B=n("9nhX"),x=n.n(B),_=n("DzJC"),T=n.n(_),I=n("K3qG"),k=Object(N["createEvent"])();function M(e){var t=e.state,n=e.setState,a=e.self,r=e.wrapElRef,l=e.headerElRef,o=e.update,s=e.insideState,b=e.setInsideState;function h(){if(!a.unmounted){var e=r.current.offsetWidth,n=r.current.offsetHeight,i=l.current.offsetWidth,o=l.current.offsetHeight,c=window.innerWidth,u=window.innerHeight;if(a.wrapSize=[e,n],a.headerSize=[i,o],a.availableSize=[c-e,u-n],a.winSize=[c,u],a.fullSize=[c,u],t.limitBound){var s=Object(d["a"])(Object(d["a"])({},f),t.limitBound),m=c-s.left-s.right,b=u-s.top-s.bottom;a.fullSize=[m,b]}p()}}function p(){var e=Object(c["a"])(a.availableSize,2),n=e[0],r=e[1],l=Object(c["a"])(a.wrapSize,2),o=l[0],d=l[1];if(a.windowBound={left:0,top:0,right:n,bottom:r},t.bound!==i.window)if(t.bound!==i.safeArea)a.bound=u;else{var f=g(a.headerSize).h;a.bound={left:-o+f,top:0,right:n+o-f,bottom:r+d-f}}else a.bound=a.windowBound}function v(e,t,n){return a.x=x()(e,a.bound.left,a.bound.right),a.y=x()(t,a.bound.top,a.bound.bottom),o(Object(d["a"])({x:a.x,y:a.y,immediate:!0,default:!0},n))}function R(){var e=a.memoX,n=a.memoY,i=a.memoWrapSize||[],r=Object(c["a"])(i,2),l=r[0],o=r[1];if(!Object(I["k"])(e)||!Object(I["k"])(n)){var d=w(t.alignment,a.availableSize);e=d[0],n=d[1]}if(!Object(I["k"])(l)||!Object(I["k"])(o)){var f=E(t),m=Object(c["a"])(f,2),p=m[0],g=m[1];l=p,o=g}a.bound=u,v(e,n,{width:l,height:o}).then((function(){h(),s.isFull&&b({isFull:!1})}))}function j(){var e,n;s.isFull||(y(),a.bound=u,v((null===(e=t.limitBound)||void 0===e?void 0:e.left)||f.left,(null===(n=t.limitBound)||void 0===n?void 0:n.top)||f.top,{width:a.fullSize[0],height:a.fullSize[1]}).then((function(){h(),b({isFull:!0})})))}function z(){k.emit(),t.zIndex<=m.zIndex&&n({zIndex:m.zIndex+1})}function y(){var e=Object(d["a"])(Object(d["a"])({},f),t.limitBound);a.memoWrapSize=a.wrapSize,a.memoX=Math.max(a.x,e.left),a.memoY=Math.max(a.y,e.top)}function S(e){var t=r.current.getBoundingClientRect(),n=O(e);return[n.x-t.left,n.y-t.top]}var B=Object(N["useFn"])((function(e,n){if(a.tipNode){var i=L(a.fullSize,e,t.limitBound);if(n)i?(M(),Object.entries(i.size).forEach((function(e){var t=Object(c["a"])(e,2),n=t[0],i=t[1];if(a.tipNode){var r=a.tipNode.style[n],l="".concat(i,"px");l!==r&&(a.tipNode.style[n]=l)}}))):_();else if(_(),i){var r=i.size;v(r.left,r.top,{width:r.width,height:r.height}).then(h)}}}),(function(e){return T()(e,10)}));function _(){a.tipNode&&"hidden"!==a.tipNode.style.visibility&&(a.tipNode.style.visibility="hidden",a.tipNode.style.opacity="0")}function M(){a.tipNode&&"visible"!==a.tipNode.style.visibility&&(a.tipNode.style.visibility="visible",a.tipNode.style.opacity="1")}return{refreshDeps:h,setXY:v,resize:R,memoWinState:y,full:j,getCursorWrapOffset:S,top:z,refreshTipNode:B}}var C=n("AM0q");function F(e,t,n){var i=Object(r["useRef"])(null),l=t.wrapElRef,o=t.self,d=t.update;function u(e,t){var n=Object(c["a"])(t,1),i=n[0],a=e.width+i-e.right,r=o.windowBound.right+e.width-e.left;return x()(a,300,r)}function f(e,t){var n=Object(c["a"])(t,2),i=n[1],a=e.height+i-e.bottom,r=o.windowBound.bottom+e.height-e.top;return x()(a,g(o.headerSize).h,r)}function m(e,t){var n=Object(c["a"])(t,1),i=n[0],a=e.right-i,r=e.right;return{x:x()(i,o.windowBound.left,e.right-s),width:x()(a,s,r)}}function b(e,t){var n=Object(c["a"])(t,2),i=n[1],a=e.bottom-i,r=e.bottom;return{y:x()(i,o.windowBound.top,e.bottom-s),height:x()(a,s,r)}}return Object(C["a"])((function(t){var i=Object(c["a"])(t.xy,2),r=i[0],o=i[1],s=l.current.getBoundingClientRect(),h={immediate:!0};e===a.R&&(h.width=u(s,[r,o])),e===a.B&&(h.height=f(s,[r,o])),e===a.L&&Object.assign(h,m(s,[r,o])),e===a.T&&Object.assign(h,b(s,[r,o])),e===a.RB&&(h.width=u(s,[r,o]),h.height=f(s,[r,o])),e===a.LB&&(Object.assign(h,m(s,[r,o])),h.height=f(s,[r,o])),e===a.LT&&(Object.assign(h,m(s,[r,o])),Object.assign(h,b(s,[r,o]))),e===a.RT&&(Object.assign(h,b(s,[r,o])),h.width=u(s,[r,o])),d(h).then((function(){n.refreshDeps()}))}),{domTarget:i}),i}function W(e,t){var n=e.update,i=e.state,l=e.setState,o=e.headerElRef,d=e.self,u=e.setInsideState,f=t.refreshDeps,s=t.resize,p=t.setXY,v=t.full;Object(r["useEffect"])((function(){return function(){d.unmounted=!0}}),[]),Object(r["useEffect"])((function(){d.tipNode=R(),n({immediate:!0,display:"block"}).then((function(){f(),n({visibility:"visible",immediate:!0}),i.initFull?v():s(),Object(I["c"])((function(){u({headerHeight:d.headerSize[1]+4})}))}))}),[]),Object(r["useEffect"])((function(){return window.addEventListener("resize",f),function(){return window.removeEventListener("resize",f)}}),[]),Object(r["useEffect"])((function(){var e=!1;return i.open?(n({immediate:!0,display:"block"}),n(h),t.top()):n(b).then((function(){e||n({immediate:!0,display:"none"})})),function(){e=!0}}),[i.open]),k.useEvent((function(){i.zIndex>m.zIndex&&l({zIndex:m.zIndex})})),Object(C["a"])((function(e){var n=e.memo,i=void 0===n?[]:n,a=e.xy,r=e.down,l=Object(c["a"])(e.delta,2),o=l[0],d=l[1],u=Object(c["a"])(i,2),f=u[0],s=u[1],m=f||t.getCursorWrapOffset(a);return p(a[0]-m[0],a[1]-m[1]),s&&s>60&&t.refreshTipNode(a,r),[m,(s||0)+Math.abs(o)+Math.abs(d)]}),{domTarget:o}),e.dragLineRRef=F(a.R,e,t),e.dragLineLRef=F(a.L,e,t),e.dragLineBRef=F(a.B,e,t),e.dragLineTRef=F(a.T,e,t),e.dragLineLTRef=F(a.LT,e,t),e.dragLineRTRef=F(a.RT,e,t),e.dragLineRBRef=F(a.RB,e,t),e.dragLineLBRef=F(a.LB,e,t)}var D=n("0Owb"),H=n("EGzX"),X=n("iuhU"),P=function(e,t,n){return l.a.createElement("div",Object(D["a"])({className:"m78-wine_header"},e),l.a.createElement("div",{className:"m78-wine_header-content"},t.state.headerNode),l.a.createElement("div",{className:"m78-wine_header-actions",onClick:function(e){return e.stopPropagation()}},l.a.createElement("span",Object(D["a"])({tabIndex:1,className:"m78-wine_btn"},y(t.hide)),l.a.createElement("span",{className:"m78-wine_hide-btn"})),n&&l.a.createElement("span",Object(D["a"])({tabIndex:1,className:"m78-wine_btn"},y(t.current.resize)),l.a.createElement("span",{className:"m78-wine_resize-btn"})),!n&&l.a.createElement("span",Object(D["a"])({tabIndex:1,className:"m78-wine_btn"},y(t.current.full)),l.a.createElement("span",{className:"m78-wine_max-btn"})),l.a.createElement("span",Object(D["a"])({tabIndex:1,className:"m78-wine_btn __warning"},y(t.dispose)),l.a.createElement("span",{className:"m78-wine_dispose-btn"}))))};function A(e,t,n){var i=e.state,a=e.insideState,r=t.resize,o=t.full,c=t.top;return l.a.createElement(H["animated"].div,{style:Object(d["a"])(Object(d["a"])({},i.style),{},{zIndex:i.zIndex},e.spProps),className:Object(X["a"])("m78-wine",i.className),ref:e.wrapElRef,onTouchStart:c,onMouseDown:c},l.a.createElement("div",{className:"m78-wine_decorate"},P({ref:e.headerElRef,onDoubleClick:function(){return a.isFull?r():o()}},n,a.isFull),l.a.createElement("div",{className:"m78-wine_content m78-wine_scrollbar",style:{top:a.headerHeight}},i.content)),l.a.createElement("div",{className:"m78-wine_drag-line-l",ref:e.dragLineLRef}),l.a.createElement("div",{className:"m78-wine_drag-line-t",ref:e.dragLineTRef}),l.a.createElement("div",{className:"m78-wine_drag-line-r",ref:e.dragLineRRef}),l.a.createElement("div",{className:"m78-wine_drag-line-b",ref:e.dragLineBRef}),l.a.createElement("div",{className:"m78-wine_drag-line-rb",ref:e.dragLineRBRef}),l.a.createElement("div",{className:"m78-wine_drag-line-lb",ref:e.dragLineLBRef}),l.a.createElement("div",{className:"m78-wine_drag-line-lt",ref:e.dragLineLTRef}),l.a.createElement("div",{className:"m78-wine_drag-line-rt",ref:e.dragLineRTRef}))}n("OMi8");var J=function(e){var t=e.state,n=e.instance,i=Object(N["useSetState"])((function(){return{isFull:!1,headerHeight:void 0}})),a=Object(c["a"])(i,2),l=a[0],o=a[1],d=Object(r["useRef"])(null),f=Object(r["useRef"])(null),s=Object(S["useSpring"])((function(){var e=E(t),n=Object(c["a"])(e,2),i=n[0],a=n[1];return{opacity:0,x:0,y:0,config:S["config"].stiff,width:i,height:a,display:"none",visibility:"hidden"}})),m=Object(c["a"])(s,2),b=m[0],h=m[1],p=Object(N["useSelf"])({x:0,y:0,winSize:[0,0],availableSize:[0,0],wrapSize:[0,0],headerSize:[0,0],fullSize:[0,0],bound:u,windowBound:u}),v={wrapElRef:d,headerElRef:f,state:t,setState:n.setState,setInsideState:o,insideState:l,self:p,spProps:b,update:h,dragLineRRef:null,dragLineLRef:null,dragLineBRef:null,dragLineTRef:null,dragLineLTRef:null,dragLineRTRef:null,dragLineRBRef:null,dragLineLBRef:null},w=M(v);W(v,w);var g=Object(r["useMemo"])((function(){return n.current={el:d,top:w.top,full:w.full,resize:w.resize,refresh:function(){}},n}),[]);return A(v,w,g)},Y=J,q=Object(o["a"])({component:Y,defaultState:m,namespace:v}),G=q,K=function(){function e(){G.render({alignment:[.45,.45],content:l.a.createElement("div",null,l.a.createElement("h2",null,"window 1"),l.a.createElement("div",null,"\ud83e\udd1e"),l.a.createElement("div",null,"\ud83e\udd1e"),l.a.createElement("div",null,"\ud83e\udd1e"),l.a.createElement("div",null,"\ud83e\udd1e")),sizeRatio:.5}),G.render({alignment:[.5,.5],content:l.a.createElement("div",null,l.a.createElement("h2",null,"window 2"),l.a.createElement("div",null,"\ud83e\udd1e"),l.a.createElement("div",null,"\ud83e\udd1e"),l.a.createElement("div",null,"\ud83e\udd1e"),l.a.createElement("div",null,"\ud83e\udd1e")),sizeRatio:.5}),G.render({alignment:[.55,.55],content:l.a.createElement("div",null,l.a.createElement("h2",null,"window 3"),l.a.createElement("div",null,"\ud83e\udd1e"),l.a.createElement("div",null,"\ud83e\udd1e"),l.a.createElement("div",null,"\ud83e\udd1e"),l.a.createElement("div",null,"\ud83e\udd1e")),sizeRatio:.5})}return l.a.createElement("div",null,l.a.createElement(G.RenderBoxTarget,null),l.a.createElement("button",{onClick:e},"render window"))};t["default"]=K},OMi8:function(e,t,n){}}]);